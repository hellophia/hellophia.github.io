<!DOCTYPE html>
<html>
<head>
    <title>jobsites</title>
    <style>
	
		@import url('https://fonts.googleapis.com/css2?family=Noto+Serif&display=swap');
		
		body {
		  	font-size: 14px;
		  	font-family: "Noto Serif";
		  	background-color: #212121;
			width:80%;
			margin:auto;
		}
		
		h2{
			color: #e3e3e3;
		}
		p{
			color: #e3e3e3;
		}
		
        #map {
            height: 400px;
            width: 100%;
			margin: 20px auto;
        }
		#tags {
			display: flex;
			flex-wrap: wrap;
			justify-content: space-between;
		}
	    input[type="checkbox"] {
	      width: 20px;
	      height: 20px;
		  margin-right:6px;
		  vertical-align: middle;
	    }
		label{
			margin-left:16px;
			color: #e3e3e3;
			display: inline-block;
			white-space: nowrap;
			flex: 0 0 20%;
		}
	    button{
	  	  font-family: "Noto Serif";
	  	  background-color: #d3c8c3;
	  	  color: #303028;
	  	  border:none;
	  	  margin:6px;
		  font-size: 14px;
		  border-radius: 16px;
		  padding: 8px;
		  cursor:pointer;
	    }
  
	    button:hover {
	      background-color: #d3b690;
	      color: #212121;
	    }
		
		#play {
		    cursor: pointer;
		}
		
		a:link{color:#db9c42;}
		a:visited{color:#757541;}
		a:hover{color:#d3b690;}
		
		*{
			//outline: 1px solid red;
		}
		
    </style>
</head>
<body>
	
	<div style="display:flex;flex-direction:row;padding: 20px 0;">
		<div style="display: flex;align-items: center;"><img src="ubc.png" width="100px"></div>
		
		<div style="margin-left:20px">
			<h2>LA Team Ready to Work Map</h2>
			
			<p>The data in this map is pulled from the Ready to Work lists available from <a href="https://www.flowcode.com/page/carpenterslocal213">Local 213</a> and <a href="https://www.flowcode.com/page/local661">Local 661</a>. It is current as of <strong>4/21/24</strong>. If you encounter errors or have design feedback, contact me at <a href="mailto:sophiafosterdimino@gmail.com">sophiafosterdimino@gmail.com</a>.</p>
			
		</div>
	</div>
	
    <div id="map"></div>
	
	<div style="display:flex;flex-direction:row;">
		
		<div style="display: flex;flex-direction: column;justify-content: space-around;"><button onclick="checkAll()">check all</button><button onclick="uncheckAll()">uncheck all</button></div>
		
		<div id="tags" style="padding-left:20px"></div>

	</div>
	
	<div style="margin:auto;text-align:right;"><img src="peon.gif" id="play">
		<audio id="audioPlayer">
			<source src="ready-to-work.mp3" type="audio/mpeg">
		</audio>
	</div>

    <script>
		
		const mapdata = [
			{
			"contractor": "SJAMOROSO CONSTRUCTION CO LLC",
			"address": "410 Center Street, Los Angeles, CA, 90012",
			"type": ["Commercial - Concrete", "General Contractor"],
			"local": "213"
			},
			{
			"contractor": "S AMOROSO CONSTRUCTION CO LLC",
			"address": "4168 West Avenue 42, Los Angeles, CA, 90065",
			"type": ["Commercial - Concrete", "General Contractor"],
			"local": "213"
			},
			{
			"contractor": "ANNING - JOHNSON COMPANY",
			"address": "4701 South Santa Fe Avenue, Vernon,",
			"type": ["Drywall", "Drywall Com"],
			"local": "213"
			},
			{
			"contractor": "ARTCRAFTERS CABINETS",
			"address": "1500 North El Centro Avenue, Los Angeles, CA, 90028",
			"type": ["Cabinet Installation", "Millwork Installation"],
			"local": "213"
			},
			{
			"contractor": "BAYLEY CONSTRUCTION",
			"address": "8500 Beverly Boulevard, Los Angeles, CA, 90048",
			"type": ["Commercial - Concrete"],
			"local": "213"
			},
			{
			"contractor": "Best Interiors",
			"address": "1741 East 120th Street, Los Angeles, CA, 90059",
			"type": ["Drywall", "Drywall Com", "Metal Stud/Framing"],
			"local": "213"
			},
			{
			"contractor": "Best Interiors",
			"address": "150 North Orange Grove Boulevard, Pasadena, CA, 91103",
			"type": ["Acoustical", "Drywall", "Drywall Com", "Metal Stud/Framing"],
			"local": "213"
			},
			{
			"contractor": "GONSALVES & SANTUCCI INC dba CONCO",
			"address": "510 West 6th Street, Los Angeles, CA, 90014",
			"type": ["Commercial - Concrete", "Concrete - Horizontal Decks", "Concrete - VerticalConcrete", "General Contractor"],
			"local": "213"
			},
			{
			"contractor": "DAVCAL INC",
			"address": "1200 North State Street, Los Angeles, CA, 90033",
			"type": ["Drywall", "Drywall Com", "Metal Stud/Framing"],
			"local": "213"
			},
			{
			"contractor": "G & G DOOR PRODUCTS INC",
			"address": "312 North Juanita Avenue, Los Angeles, CA, 90004",
			"type": ["Commercial - Concrete"],
			"local": "213"
			},
			{
			"contractor": "G & G DOOR PRODUCTS INC",
			"address": "318 North Juanita Avenue, Los Angeles, CA, 90004",
			"type": ["Door Com"],
			"local": "213"
			},
			{
			"contractor": "G & G DOOR PRODUCTS INC",
			"address": "318 N. Juanita Ave., Los Angeles, CA, 90004",
			"type": ["Commercial - Concrete"],
			"local": "213"
			},
			{
			"contractor": "GRANI INSTALLATION INC",
			"address": "350 South Grand Avenue, Los Angeles, CA, 90071",
			"type": ["Acoustical"],
			"local": "213"
			},
			{
			"contractor": "INFINITY DRYWALL CONTRACTING INC",
			"address": "5231 Colfax Avenue, Los Angeles, CA, 91601",
			"type": ["Drywall", "Drywall Com", "Lath/Plaster/EIFS", "Metal Framing"],
			"local": "213"
			},
			{
			"contractor": "JOHN JORY CORPORATION",
			"address": "5500 Hollywood Blvd., Los Angeles,",
			"type": ["Drywall", "Drywall Com", "Metal Stud/Framing"],
			"local": "213"
			},
			{
			"contractor": "KAISER FOUNDATION HEALTH PLAN INC",
			"address": "4950 Sunset Blvd, Los Angeles, CA, 90027",
			"type": ["Drywall Com"],
			"local": "213"
			},
			{
			"contractor": "KEENAN HOPKINS SUDER & STOWELL CONTRACTORS INC DBA (KHS&S)",
			"address": "3800 South Vermont Avenue, Los Angeles, CA, 90037",
			"type": ["Drywall", "Drywall Com", "Precast Concrete"],
			"local": "213"
			},
			{
			"contractor": "KEENAN HOPKINS SUDER & STOWELL CONTRACTORS INC DBA (KHS&S)",
			"address": "555 Crocker Street, Los Angeles, CA, 90013",
			"type": ["Commercial - Concrete", "Drywall", "Drywall Com", "Other"],
			"local": "213"
			},
			{
			"contractor": "W: SKLEM CONTRACTOR INCORPORATED",
			"address": "3501 North Broadway, Los Angeles, ,",
			"type": ["Commercial - Concrete"],
			"local": "213"
			},
			{
			"contractor": "LARGO CONCRETE INC",
			"address": "1950 Avenue of the Stars, Los Angeles, CA, 90067",
			"type": ["Commercial - Concrete"],
			"local": "213"
			},
			{
			"contractor": "LARGO CONCRETE INC",
			"address": "5905 Wilshire Blvd, Los Angeles, CA, 90036",
			"type": ["Commercial - Concrete"],
			"local": "213"
			},
			{
			"contractor": "LARGO CONCRETE INC",
			"address": "5420 Sunset Boulevard, Los Angeles, CA, 90027",
			"type": ["Commercial - Concrete"],
			"local": "213"
			},
			{
			"contractor": "LARGO CONCRETE INC",
			"address": "3452 East Foothill Boulevard, Pasadena,",
			"type": ["Commercial - Concrete"],
			"local": "213"
			},
			{
			"contractor": "MIRAGE BUILDERS INC",
			"address": "1447 East 45th Street, Los Angeles, CA, 90011",
			"type": ["Drywall", "Drywall Com", "Lath/Plaster/EIFS", "Scaffold"],
			"local": "213"
			},
			{
			"contractor": "THE NEVELL GROUP INC DBA NGI",
			"address": "312 North Record Avenue, Los Angeles,",
			"type": ["Commercial - Acoustical", "Commercial - Framing", "Commercial - Lathe", "Dry Fin Com", "Drywall", "Drywall Com", "Insulation", "Plaster", "Scaffold"],
			"local": "213"
			},
			{
			"contractor": "ONYX BUILDING GROUP INC",
			"address": "8101 Rosemead Boulevard, Pico Rivera,",
			"type": ["Drywall Com"],
			"local": "213"
			},
			{
			"contractor": "PACIFIC WALL SYSTEMS INC",
			"address": "2244 Walnut Grove Avenue, Rosemead, CA, 91770",
			"type": ["Drywall"],
			"local": "213"
			},
			{
			"contractor": "PACIFIC WALL SYSTEMS INC",
			"address": "1025 West 34th Street, Los Angeles,",
			"type": ["Dry Fin Com", "Drywall", "Drywall Com", "Metal Stud/Framing"],
			"local": "213"
			},
			{
			"contractor": "CHARLES PANKOW BUILDERS LTD",
			"address": "600 San Pedro Street, Los Angeles, ,",
			"type": ["Commercial - Concrete", "General Contractor"],
			"local": "213"
			},
			{
			"contractor": "EXCEL CONTRACTORS INC DBA PROGRESSION DRYWALL CORP",
			"address": "1025 North Vermont Avenue, Los Angeles, CA, 90029",
			"type": ["Dry Fin Com", "Drywall", "Drywall Com", "Residential - Drywall"],
			"local": "213"
			},
			{
			"contractor": "EXCEL CONTRACTORS INC DBA PROGRESSION DRYWALL CORP",
			"address": "113 South Soto Street, Los Angeles, CA, 90033",
			"type": ["Drywall", "Drywall Com", "Metal Stud/Framing", "Residential - Drywall"],
			"local": "213"
			},
			{
			"contractor": "EXCEL CONTRACTORS INC DBA PROGRESSION DRYWALL CORP",
			"address": "1141 Crenshaw Boulevard, Los Angeles, CA, 90019",
			"type": ["Drywall", "Metal Stud/Framing", "Residential - Drywall"],
			"local": "213"
			},
			{
			"contractor": "EXCEL CONTRACTORS INC DBA PROGRESSION DRYWALL CORP",
			"address": "707 North Alvarado Street, Los Angeles, CA, 90026",
			"type": ["Drywall", "Residential - Drywall"],
			"local": "213"
			},
			{
			"contractor": "EXCEL CONTRACTORS INC DBA PROGRESSION DRYWALL CORP",
			"address": "103 North Chapel Avenue, Alhambra, CA, 91801",
			"type": ["Drywall", "Drywall Com"],
			"local": "213"
			},
			{
			"contractor": "QUALITY PRODUCTION SERVICES INC DBA QPS",
			"address": "312 North Juanita Avenue, Los Angeles, CA, 90004",
			"type": ["Drywall", "Metal Stud/Framing"],
			"local": "213"
			},
			{
			"contractor": "RUDOLPH & SLETTEN INC",
			"address": "1500 East Duarte Road, Duarte, ,",
			"type": ["Commercial - Concrete"],
			"local": "213"
			},
			{
			"contractor": "SCHMITT CONTRACTING INC",
			"address": "6020 Miles Avenue, Huntington Park,",
			"type": ["Commercial - Concrete", "Commercial - Framing", "Commercial - Lathe", "Concrete - Flatwork", "Dry Fin Com", "Drywall", "Drywall Com", "Insulation Commercial", "Plaster"],
			"local": "213"
			},
			{
			"contractor": "SCHMITT CONTRACTING INC",
			"address": "5905 Wilshire Boulevard, Los Angeles, ,",
			"type": ["Drywall"],
			"local": "213"
			},
			{
			"contractor": "SHARPE INTERIOR SYSTEMS INC",
			"address": "19148 Jamboree Rd, Irvine, CA, 92612",
			"type": ["Commercial - Framing", "Commercial - Lathe", "Dry Fin Com", "Drywall", "Drywall Com", "Plaster"],
			"local": "213"
			},
			{
			"contractor": "SHARPE INTERIOR SYSTEMS INC",
			"address": "400 South Hope Street, Los Angeles,",
			"type": ["Drywall"],
			"local": "213"
			},
			{
			"contractor": "Standard Drywall Inc",
			"address": "601 Pico Boulevard, Santa Monica, CA, 90405",
			"type": ["Drywall", "Drywall Com"],
			"local": "213"
			},
			{
			"contractor": "Standard Drywall Inc",
			"address": "601 Pico Boulevard, Santa Monica, CA, 90405",
			"type": ["Dry Fin Com", "Drywall", "Drywall Com", "Metal Stud/Framing"],
			"local": "213"
			},
			{
			"contractor": "STAR HARDWARE INC",
			"address": "3556 Whittier Boulevard, Los Angeles,",
			"type": ["Commercial - Concrete", "Doors & Hardware"],
			"local": "213"
			},
			{
			"contractor": "Swinerton Builders",
			"address": "555 Crocker Street, Los Angeles, CA, 90013",
			"type": ["Commercial - Concrete", "Concrete - VerticalConcrete", "Dry Fin Com", "Drywall", "Drywall Com", "Metal Stud/Framing", "Millwork Installation"],
			"local": "213"
			},
			{
			"contractor": "Swinerton Builders",
			"address": "9908 South Santa Monica Boulevard, Beverly Hills, ,",
			"type": ["Commercial - Cabinets", "Commercial - Concrete", "Drywall", "Drywall Com", "General Contractor", "Metal Framing", "Residential Drywall"],
			"local": "213"
			},
			{
			"contractor": "Swinerton Builders",
			"address": "9420 Telstar Avenue, El Monte, ,",
			"type": ["Commercial - Concrete", "Drywall", "Drywall Com", "General Contractor"],
			"local": "213"
			},
			{
			"contractor": "TARLTON AND SON INC",
			"address": "312 North Juanita Avenue, Los Angeles, CA, 90004",
			"type": ["Drywall"],
			"local": "213"
			},
			{
			"contractor": "TRENDEX CORP",
			"address": "601 South Figueroa Street, Los Angeles, CA, 90017",
			"type": ["Drywall", "Metal Stud/Framing"],
			"local": "213"
			},
			{
			"contractor": "T WIMSATT CONTRACTING CO INC",
			"address": "3401 South La Cienega Boulevard, Los Angeles, CA, 90016",
			"type": ["Commercial - Concrete"],
			"local": "213"
			},
			{
			"contractor": "AP CONSTRUCTION GROUP INC DBA AIR PLUS",
			"address": "450 North Grand Avenue, Los Angeles, CA, 90012",
			"type": ["Drywall", "Plaster"],
			"local": "213"
			},
			{
			"contractor": "INLINE DRYWALL (CALIFORNIA) INC",
			"address": "1002 South Hill Street, Los Angeles, ,",
			"type": ["Acoustical", "Drywall", "Drywall Com"],
			"local": "213"
			},
			{
			"contractor": "AMERICAN NATIONAL INSULATION DBA COAST BUILDING PRODUCTS",
			"address": "3000 West Olympic Boulevard, Los Angeles, CA, 90006",
			"type": ["Insulation"],
			"local": "213"
			},
			{
			"contractor": "Performance Contracting Inc",
			"address": "9000 Wilshire Boulevard, Beverly Hills, ,",
			"type": ["Acoustical", "Bathrooms", "Commercial - Acoustical", "Drywall"],
			"local": "213"
			},
			{
			"contractor": "NOVA DRYWALL SYSTEMS INC DBA NOVA SYSTEMS",
			"address": "525 South Santa Fe Ave., Los Angeles, CA, 90013",
			"type": ["Drywall", "Drywall Com", "Residential - Drywall"],
			"local": "213"
			},
			{
			"contractor": "SKANSKA -TRAYLOR- - SHEA A JOINT VENTURE",
			"address": "711 South La Brea Avenue, Los Angeles, CA, 90036",
			"type": ["Commercial - Concrete", "Concrete - Horizontal Decks", "Concrete Residential"],
			"local": "213"
			},
			{
			"contractor": "SKANSKA - -TRAYLOR - SHEA A JOINT VENTURE",
			"address": "8401 North Gale Drive, Beverly Hills, CA, 90211",
			"type": ["Commercial - Concrete"],
			"local": "213"
			},
			{
			"contractor": "Jilk Heavy Construction Inc",
			"address": "8281 Mulholland Drive, Los Angeles, CA, 90046",
			"type": ["General Contractor"],
			"local": "213"
			},
			{
			"contractor": "ELLIOTT/DRINKWARD CONSTRUCTION INC DBA ELLIOTT DRINKWARD CONSTRUCTION INC",
			"address": "9800 Grape Street, Los Angeles, CA, 90002",
			"type": ["Wood Framing"],
			"local": "213"
			},
			{
			"contractor": "ELLIOTT / DRINKWARD CONSTRUCTION INC DBA ELLIOTT DRINKWARD CONSTRUCTION INC",
			"address": "1025 North Vermont Avenue, Los Angeles, CA, 90029",
			"type": ["Wood Framing"],
			"local": "213"
			},
			{
			"contractor": "ELLIOTT / DRINKWARD CONSTRUCTION INC DBA ELLIOTT DRINKWARD CONSTRUCTION INC",
			"address": "800 West 85TH ST, Los Angeles, ,",
			"type": ["Commercial - Concrete", "Wood Framing"],
			"local": "213"
			},
			{
			"contractor": "ELLIOTT / DRINKWARD CONSTRUCTION INC DBA ELLIOTT DRINKWARD CONSTRUCTION INC",
			"address": "113 South Soto Street, Los Angeles, CA, 90033",
			"type": ["Commercial - Concrete", "Wood Framing"],
			"local": "213"
			},
			{
			"contractor": "ELLIOTT / DRINKWARD CONSTRUCTION INC DBA ELLIOTT DRINKWARD CONSTRUCTION INC",
			"address": "4020 Compton Avenue, Los Angeles, CA, 90011",
			"type": ["Commercial - Concrete", "Concrete - Residential", "Wood Framing"],
			"local": "213"
			},
			{
			"contractor": "ELLIOTT / DRINKWARD CONSTRUCTION INC DBA ELLIOTT DRINKWARD CONSTRUCTION INC",
			"address": "837 North Banning Boulevard, Los Angeles, ,",
			"type": ["Concrete - Residential", "Wood Framing"],
			"local": "213"
			},
			{
			"contractor": "ELLIOTT / DRINKWARD CONSTRUCTION INC DBA ELLIOTT DRINKWARD CONSTRUCTION INC",
			"address": "707 North Alvarado Street, Los Angeles, CA, 90026",
			"type": ["Framing Residential", "Wood Framing"],
			"local": "213"
			},
			{
			"contractor": "ELLIOTT / DRINKWARD CONSTRUCTION INC DBA ELLIOTT DRINKWARD CONSTRUCTION INC",
			"address": "103 North Chapel Avenue, Alhambra, CA, 91801",
			"type": ["Wood Framing"],
			"local": "213"
			},
			{
			"contractor": "ELLIOTT / DRINKWARD CONSTRUCTION INC DBA ELLIOTT DRINKWARD CONSTRUCTION INC",
			"address": "11730 Ramona Boulevard, El Monte, CA, 91732",
			"type": ["Wood Framing"],
			"local": "213"
			},
			{
			"contractor": "ELLIOTT / DRINKWARD CONSTRUCTION INC DBA ELLIOTT DRINKWARD CONSTRUCTION INC",
			"address": "7616 Pacific Boulevard, Huntington Park, CA, 90255",
			"type": ["Framing Residential", "Wood Framing"],
			"local": "213"
			},
			{
			"contractor": "TUTOR PERINI CORPORATION",
			"address": "10971 Wilshire Boulevard, Los Angeles, CA, 90024",
			"type": ["Commercial - Concrete"],
			"local": "213"
			},
			{
			"contractor": "MARTIN BROS/MARCOWALL INC",
			"address": "1840 Century Park East, Los Angeles, CA, 90067",
			"type": ["Drywall", "Drywall Com"],
			"local": "213"
			},
			{
			"contractor": "INTERIOR PLUS INC",
			"address": "501 South Marengo Avenue, Alhambra, CA, 91803",
			"type": ["Acoustical", "Doors & Hardware", "Dry Fin Com", "Drywall", "Drywall Com", "General Contractor", "Metal Stud/Framing"],
			"local": "213"
			},
			{
			"contractor": "Stacy and Witbeck Inc",
			"address": "6001 Forest Lawn Drive, Los Angeles, CA, 90068",
			"type": ["Commercial - Concrete", "Concrete - VerticalConcrete"],
			"local": "213"
			},
			{
			"contractor": "INDUSTRY DRYWALL & FRAMING INC DBA INDUSTRY DRYWALL & METAL STUD FRAMING",
			"address": "1024 North Orange Drive, Los Angeles, CA, 90038",
			"type": ["Drywall", "Metal Stud/Framing"],
			"local": "213"
			},
			{
			"contractor": "Jordan Drywall Inc",
			"address": "5500 Hollywood Blvd., Los Angeles, ,",
			"type": ["Drywall", "Metal Stud/Framing"],
			"local": "213"
			},
			{
			"contractor": "TPOGJV/Tutor Perini",
			"address": "2040 Century Park East, Los Angeles, CA, 90067",
			"type": ["Commercial - Concrete", "General Contractor", "Heavy-Highway-Bridge"],
			"local": "213"
			},
			{
			"contractor": "TPOGJV/Tutor Perini",
			"address": "10971 Wilshire Boulevard, Los Angeles, CA, 90024",
			"type": ["Commercial - Concrete", "General Contractor", "PileDriving"],
			"local": "213"
			},
			{
			"contractor": "Very Good Building & Construction",
			"address": "6642 Rego Park Court, Las Vegas, NV, 89166",
			"type": ["General Contractor"],
			"local": "213"
			},
			{
			"contractor": "WEBCOR CRAFT L P",
			"address": "1002 South Hill Street, Los Angeles,",
			"type": ["Commercial - Concrete"],
			"local": "213"
			},
			{
			"contractor": "CML SPECIALTIES LLC",
			"address": "201 Centre Plaza Drive, Monterey Park, CA, 91754",
			"type": ["Acoustical", "Commercial - Concrete"],
			"local": "213"
			},
			{
			"contractor": "Lincoln Hall Company Inc. dba Lincoln Hall Painting",
			"address": "823 1/2 North Cahuenga Boulevard, Los Angeles, ,",
			"type": ["Acoustical", "Commercial - Acoustical"],
			"local": "213"
			},
			{
			"contractor": "Domestic Rail Solutions Corp",
			"address": "11500 Wilshire, Los Angeles, CA, 90025",
			"type": ["Other"],
			"local": "213"
			},
			{
			"contractor": "The Conco Companies",
			"address": "510 West 6th Street, Los Angeles, CA, 90014",
			"type": ["Commercial - Concrete"],
			"local": "213"
			},
			{
			"contractor": "Fixed Dimensions dba Fixed Dimensions Carpentry",
			"address": "200 Mesnagers Street, Los Angeles, CA, 90012",
			"type": ["Cabinet Installation", "Commercial Concrete"],
			"local": "213"
			},
			{
			"contractor": "Elljay Acoustics Inc",
			"address": "533 South Fremont Avenue, Los Angeles, CA, 90071",
			"type": ["Commercial - Acoustical"],
			"local": "213"
			},
			{
			"contractor": "RAYMOND-STANDARD A JOINT VENTURE",
			"address": "3950 West Century Boulevard, Inglewood, ,",
			"type": ["Drywall", "Insulation", "Metal Stud/Framing", "Taping", "Wood Framing"],
			"local": "213"
			},
			{
			"contractor": "Parkco Construction Inc.",
			"address": "619 South Ardmore Avenue, Los Angeles,",
			"type": ["Commercial - Concrete"],
			"local": "213"
			},
			{
			"contractor": "AFFILIATED MILLWORK INSTALLATION CO., INC.",
			"address": "100 Universal City Plaza, Universal City, CA, 90068",
			"type": ["Fin Com"],
			"local": "661"
			},
			{
			"contractor": "ARTCRAFTERS CABINETS",
			"address": "11785 Wilshire Boulevard, Los Angeles, CA, 90025",
			"type": ["Cabinet Installation"],
			"local": "661"
			},
			{
			"contractor": "BN BUILDERS INC",
			"address": "2450 Colorado Avenue, Santa Monica, CA, 90404",
			"type": ["Drywall", "Drywall Com", "General Contractor", "Metal Stud/Framing"],
			"local": "661"
			},
			{
			"contractor": "BN BUILDERS INC",
			"address": "3130 Wilshire Boulevard, Santa Monica, CA, 90404",
			"type": ["Drywall Com"],
			"local": "661"
			},
			{
			"contractor": "Best Interiors",
			"address": "26455 Rockwell Canyon Road, Santa Clarita, CA, 91355",
			"type": ["Commercial Acoustical"],
			"local": "661"
			},
			{
			"contractor": "CITY OF LOS ANGELES",
			"address": "555 Ramirez Street, Los Angeles, CA, 90012",
			"type": ["Commercial Concrete"],
			"local": "661"
			},
			{
			"contractor": "CITY OF LOS ANGELES",
			"address": "11805 Sheldon Street, Los Angeles, CA, 91352",
			"type": ["General Contractor"],
			"local": "661"
			},
			{
			"contractor": "CITY OF LOS ANGELES",
			"address": "10310 Rosamond Boulevard, Rosamond, CA, 93560",
			"type": ["Commercial Concrete", "General Contractor"],
			"local": "661"
			},
			{
			"contractor": "GONSALVES & SANTUCCI INC dba CONCO",
			"address": "18111 Nordhoff Street, Los Angeles, CA, 91330",
			"type": ["Commercial - Concrete", "General Contractor"],
			"local": "661"
			},
			{
			"contractor": "CONDON-JOHNSON & ASSOCIATES INC",
			"address": "28185 The Old Road, Valencia,",
			"type": ["Commercial Concrete"],
			"local": "661"
			},
			{
			"contractor": "GRANI INSTALLATION INC",
			"address": "1305 2nd Street, Santa Monica, CA, 90401",
			"type": ["Commercial Acoustical"],
			"local": "661"
			},
			{
			"contractor": "GRANITE CONSTRUCTION COMPANY",
			"address": "44357 22nd Street West, Lancaster, CA, 93536",
			"type": ["Commercial - Concrete", "General Contractor"],
			"local": "661"
			},
			{
			"contractor": "GUTHRIE GENERAL OF CALIFORNIA INC",
			"address": "2825 Santa Monica Boulevard, Santa Monica, CA, 90404",
			"type": ["Drywall Com"],
			"local": "661"
			},
			{
			"contractor": "HALLIN AND HERRERA, INC",
			"address": "411 North Hollywood Way, Burbank, CA, 91505",
			"type": ["Concrete Tilt-Up"],
			"local": "661"
			},
			{
			"contractor": "INFINITY DRYWALL CONTRACTING INC",
			"address": "18111 Nordhoff Street, Northridge, CA, 91330",
			"type": ["Plaster"],
			"local": "661"
			},
			{
			"contractor": "INFINITY DRYWALL CONTRACTING INC",
			"address": "5231 Colfax Avenue, Los Angeles, CA, 91601",
			"type": ["Drywall", "Drywall Com", "Lath/Plaster/EIFS", "Metal Framing"],
			"local": "661"
			},
			{
			"contractor": "INFINITY DRYWALL CONTRACTING INC",
			"address": "18111 Nordhoff Street, Los Angeles,",
			"type": ["Drywall Com", "Wood Framing"],
			"local": "661"
			},
			{
			"contractor": "INFINITY DRYWALL CONTRACTING INC",
			"address": "21622 Sherman Way, Los Angeles, CA, 91303",
			"type": ["Commercial Acoustical", "Drywall", "Drywall Com", "Metal Stud/Framing"],
			"local": "661"
			},
			{
			"contractor": "INFINITY DRYWALL CONTRACTING INC",
			"address": "27235 Tourney Road, Santa Clarita",
			"type": ["Drywall Com"],
			"local": "661"
			},
			{
			"contractor": "KAISER FOUNDATION HEALTH PLAN INC",
			"address": "5601 De Soto Avenue, Woodland Hills, CA, 91367",
			"type": ["Commercial - Concrete", "Drywall Com", "General Contractor", "Residential Drywall"],
			"local": "661"
			},
			{
			"contractor": "KEENAN HOPKINS SUDER & STOWELL CONTRACTORS INC DBA (KHS&S)",
			"address": "100 Universal City Plaza, Universal City, CA, 91608",
			"type": ["Drywall"],
			"local": "661"
			},
			{
			"contractor": "KEENAN HOPKINS SUDER & STOWELL CONTRACTORS INC DBA (KHS&S)",
			"address": "5800 Fulton Avenue, Los Angeles, CA, 91401",
			"type": ["Commercial Lathe", "Drywall Com", "Metal Stud/Framing", "Other"],
			"local": "661"
			},
			{
			"contractor": "W S KLEM CONTRACTOR INCORPORATED",
			"address": "13000 Oxnard Street, Van Nuys, CA, 91401",
			"type": ["Commercial Concrete", "School"],
			"local": "661"
			},
			{
			"contractor": "LARGO CONCRETE INC",
			"address": "5500 Canoga Avenue, Woodland Hills, CA, 91367",
			"type": ["Commercial Concrete"],
			"local": "661"
			},
			{
			"contractor": "LARGO CONCRETE INC",
			"address": "30215 Morning View Drive, Malibu,",
			"type": ["Commercial Concrete"],
			"local": "661"
			},
			{
			"contractor": "MIRAGE BUILDERS INC",
			"address": "222 East Harvard Street, Glendale,",
			"type": ["Commercial - Framing", "Drywall Com"],
			"local": "661"
			},
			{
			"contractor": "MORLEY CONSTRUCTION COMPANY",
			"address": "3223 Thatcher Avenue, Los Angeles,",
			"type": ["Concrete Flatwork", "Concrete - Horizontal Decks"],
			"local": "661"
			},
			{
			"contractor": "M A MORTENSON COMPANY",
			"address": "18362 Soledad Canyon Road, Santa Clarita,",
			"type": ["General Contractor", "PileDriving"],
			"local": "661"
			},
			{
			"contractor": "OHL USA INC DBA GROUP OHL NORTH AMERICA",
			"address": "28185 The Old Road, Valencia,",
			"type": ["Bridges", "Commercial - Concrete", "Con Sub", "Concrete - Barriers/Sound Walls", "Concrete - VerticalConcrete", "General Contractor", "Heavy-Highway-Bridge", "Millwright", "PileDriving"],
			"local": "661"
			},
			{
			"contractor": "CHARLES PANKOW BUILDERS LTD",
			"address": "6500 Wilshire Boulevard, Los Angeles, CA, 90048",
			"type": ["Commercial Concrete"],
			"local": "661"
			},
			{
			"contractor": "PCL CONSTRUCTION SERVICES INC",
			"address": "100 Universal City Plaza, Universal City, CA, 90068",
			"type": ["General Contractor"],
			"local": "661"
			},
			{
			"contractor": "EXCEL CONTRACTORS INC DBA PROGRESSION DRYWALL CORP",
			"address": "10243 N Topanga Canyon Blvd, Chatsworth, CA, 91311",
			"type": ["Drywall"],
			"local": "661"
			},
			{
			"contractor": "EXCEL CONTRACTORS INC DBA PROGRESSION DRYWALL CORP",
			"address": "6668 Franklin Avenue, Los Angeles, CA, 90028",
			"type": ["Drywall Com"],
			"local": "661"
			},
			{
			"contractor": "EXCEL CONTRACTORS INC DBA PROGRESSION DRYWALL CORP",
			"address": "11301 Wilshire Boulevard, Los Angeles,",
			"type": ["Drywall", "Drywall Com", "Residential - Drywall"],
			"local": "661"
			},
			{
			"contractor": "EXCEL CONTRACTORS INC DBA PROGRESSION DRYWALL CORP",
			"address": "4846 Avenue L-14, Quartz Hill, CA, 93536",
			"type": ["Residential Drywall"],
			"local": "661"
			},
			{
			"contractor": "QUALITY PRODUCTION SERVICES INC DBA QPS",
			"address": "3000 Olympic Boulevard, Santa Monica,",
			"type": ["Drywall Com", "Metal Stud/Framing"],
			"local": "661"
			},
			{
			"contractor": "QUALITY PRODUCTION SERVICES INC DBA QPS",
			"address": "11355 West Olympic Boulevard, Los Angeles, CA, 90064",
			"type": ["Drywall Com"],
			"local": "661"
			},
			{
			"contractor": "QUALITY PRODUCTION SERVICES INC DBA QPS",
			"address": "611 North Brand Boulevard, Glendale, CA, 91203",
			"type": ["Dry Fin Com", "Drywall Com", "Metal Stud/Framing"],
			"local": "661"
			},
			{
			"contractor": "C A RASMUSSEN INC",
			"address": "Pasadena, CA, 91103",
			"type": ["Commercial Concrete"],
			"local": "661"
			},
			{
			"contractor": "RUDOLPH & SLETTEN INC",
			"address": "4650 Lincoln Boulevard, Marina del Rey",
			"type": ["Commercial - Concrete", "General Contractor"],
			"local": "661"
			},
			{
			"contractor": "SALCO SPECIALTIES INC",
			"address": "91425-B Soledad Canyon Road, Santa Clarita, CA, 91351",
			"type": ["Door Com"],
			"local": "661"
			},
			{
			"contractor": "SANTA CLARITA CONCRETE",
			"address": "12431 Roscoe Boulevard, Sun Valley, CA, 91352",
			"type": ["Commercial - Concrete", "Concrete - VerticalConcrete"],
			"local": "661"
			},
			{
			"contractor": "SHAMROCK INSTALLATIONS LLC DBA MILLWORK/CARPENTRY",
			"address": "2238 South Carmelina Avenue, Los Angeles,",
			"type": ["Commercial Concrete"],
			"local": "661"
			},
			{
			"contractor": "SHARPE INTERIOR SYSTEMS INC",
			"address": "100 Universal City Plaza, Universal City, CA, 90068",
			"type": ["Drywall Com"],
			"local": "661"
			},
			{
			"contractor": "Shaw & Sons Inc",
			"address": "100 Universal City Plaza, Universal City, CA, 91608",
			"type": ["Commercial Concrete"],
			"local": "661"
			},
			{
			"contractor": "SOUTHCOAST ACOUSTICAL INTERIORS INC",
			"address": "1900 Pico Blvd.Santa Monica ca 90405, Santa Monica, CA, 90405",
			"type": ["Acoustical", "Commercial Acoustical"],
			"local": "661"
			},
			{
			"contractor": "Standard Drywall Inc",
			"address": "1900 Pico Blvd.Santa Monica ca 90405, Santa Monica, CA, 90405",
			"type": ["Drywall", "Drywall Com", "Metal Framing", "Metal Stud/Framing"],
			"local": "661"
			},
			{
			"contractor": "Standard Drywall Inc",
			"address": "1500 North Verdugo Road, Glendale, CA, 91208",
			"type": ["Drywall"],
			"local": "661"
			},
			{
			"contractor": "STANTRU RESOURCES INC DBA STANTRU REINFORCING STEEL",
			"address": "710 Broadway, Santa Monica,",
			"type": ["General Contractor"],
			"local": "661"
			},
			{
			"contractor": "STANTRU RESOURCES INC DBA STANTRU REINFORCING STEEL",
			"address": "24255 Pacific Coast Highway, Malibu,",
			"type": ["General Contractor"],
			"local": "661"
			},
			{
			"contractor": "STANTRU RESOURCES INC DBA STANTRU REINFORCING STEEL",
			"address": "24255 Pacific Coast Highway, Malibu, CA, 90263",
			"type": ["Commercial Concrete"],
			"local": "661"
			},
			{
			"contractor": "STOLO CABINETS INC",
			"address": "12827 Saticoy Street, Los Angeles, CA, 91605",
			"type": ["Commercial Cabinets"],
			"local": "661"
			},
			{
			"contractor": "SULLY MILLER CONTRACTING COMPANY",
			"address": "843 East Avenue R, Palmdale, CA, 93550",
			"type": ["Commercial Concrete"],
			"local": "661"
			},
			{
			"contractor": "Swinerton Builders",
			"address": "11301 Wilshire Blvd. 1606 Stanford Street, Santa Monica,",
			"type": ["Commercial Concrete"],
			"local": "661"
			},
			{
			"contractor": "TARLTON AND SON INC",
			"address": "601 Pico Boulevard, Santa Monica, CA, 90405",
			"type": ["Commercial Lathe", "Drywall Com"],
			"local": "661"
			},
			{
			"contractor": "TONEMAN CONCRETE CORP",
			"address": "24040 Copper Hill Drive, Valencia,",
			"type": ["Con Sub"],
			"local": "661"
			},
			{
			"contractor": "TRENDEX CORP",
			"address": "5250 Lankershim Boulevard, Los Angeles, CA, 91601",
			"type": ["Dry Fin Com", "Drywall Com", "Metal Stud/Framing"],
			"local": "661"
			},
			{
			"contractor": "VALVERDE CONSTR INC",
			"address": "1606 Stanford Street, Santa Monica, CA, 90404",
			"type": ["Commercial Concrete"],
			"local": "661"
			},
			{
			"contractor": "WM KLORMAN",
			"address": "710 Broadway, Santa Monica,",
			"type": ["Commercial Concrete"],
			"local": "661"
			},
			{
			"contractor": "IAN THOMAS GROUP",
			"address": "2490 Walgrove Avenue, Los Angeles, CA, 90066",
			"type": ["Wood Framing"],
			"local": "661"
			},
			{
			"contractor": "A A GONZALEZ INCORPORATED",
			"address": "14142 Vanowen Street, Van Nuys,",
			"type": ["Scaffold"],
			"local": "661"
			},
			{
			"contractor": "A A GONZALEZ INCORPORATED",
			"address": "8767 Parthenia Place, North Hills",
			"type": ["Lath/Plaster/EIFS", "Scaffold"],
			"local": "661"
			},
			{
			"contractor": "A A GONZALEZ INCORPORATED",
			"address": "4846 Avenue L-14, Quartz Hill, CA, 93536",
			"type": ["Plaster", "Residential - Lathe", "Scaffold"],
			"local": "661"
			},
			{
			"contractor": "ROYAL CONSTRUCTION CORP",
			"address": "16730 Chatsworth Street, Los Angeles, CA, 91344",
			"type": ["Commercial Concrete"],
			"local": "661"
			},
			{
			"contractor": "PRIME ACOUSTICS",
			"address": "1100 East Avenue R-4, Palmdale,",
			"type": ["Acoustical"],
			"local": "661"
			},
			{
			"contractor": "Performance Contracting Inc",
			"address": "100 Universal City Plaza, Universal City, CA, 91608",
			"type": ["Acoustical", "Commercial Acoustical"],
			"local": "661"
			},
			{
			"contractor": "Performance Contracting Inc",
			"address": "410 South Wilson Avenue, Pasadena,",
			"type": ["Acoustical"],
			"local": "661"
			},
			{
			"contractor": "REYES ELECTRICAL CONTRACTOR INC",
			"address": "471 Knight Way, La Cañada Flintridge, CA, 91011",
			"type": ["Wood Framing"],
			"local": "661"
			},
			{
			"contractor": "Y T I ENTERPRISES INC",
			"address": "21622 Sherman Way, Los Angeles, CA, 91303",
			"type": ["Millwork Installation"],
			"local": "661"
			},
			{
			"contractor": "DOOR SPECIALTIES INC dba DOOR SYSTEMS INC",
			"address": "601 Pico Boulevard, Santa Monica, CA, 90405",
			"type": ["Door Com"],
			"local": "661"
			},
			{
			"contractor": "KIEWIT INFRASTRUCTURE WEST CO",
			"address": "12892 Sheldon Street, Los Angeles, CA, 91352",
			"type": ["Commercial - Concrete", "Concrete - VerticalConcrete", "General Contractor"],
			"local": "661"
			},
			{
			"contractor": "ONDATJE CONTRACTING INC",
			"address": "39360 Summerwind Drive, Palmdale, CA, 93551",
			"type": ["Drywall Com", "Metal Stud/Framing", "Wood Framing"],
			"local": "661"
			},
			{
			"contractor": "ELLIOTT DRINKWARD CONSTRUCTION INC DBA ELLIOTT DRINKWARD CONSTRUCTION INC",
			"address": "14142 Vanowen Street, Van Nuys",
			"type": ["Wood Framing"],
			"local": "661"
			},
			{
			"contractor": "ELLIOTT / DRINKWARD CONSTRUCTION INC DBA ELLIOTT DRINKWARD CONSTRUCTION INC",
			"address": "8146 Van Nuys Boulevard, Los Angeles, CA, 91402",
			"type": ["Wood Framing"],
			"local": "661"
			},
			{
			"contractor": "ELLIOTT / DRINKWARD CONSTRUCTION INC DBA ELLIOTT DRINKWARD CONSTRUCTION INC",
			"address": "10243 N Topanga Canyon Blvd, Chatsworth, CA, 91311",
			"type": ["Wood Framing"],
			"local": "661"
			},
			{
			"contractor": "ELLIOTT / DRINKWARD CONSTRUCTION INC DBA ELLIOTT DRINKWARD CONSTRUCTION INC",
			"address": "156 Bonsall Avenue, Los Angeles, CA, 90049",
			"type": ["Drywall Com", "Wood Framing"],
			"local": "661"
			},
			{
			"contractor": "ELLIOTT/DRINKWARD CONSTRUCTION INC DBA ELLIOTT DRINKWARD CONSTRUCTION INC",
			"address": "11301 Wilshire Boulevard, Los Angeles,",
			"type": ["Wood Framing"],
			"local": "661"
			},
			{
			"contractor": "ELLIOTT / DRINKWARD CONSTRUCTION INC DBA ELLIOTT DRINKWARD CONSTRUCTION INC",
			"address": "4846 Avenue L-14, Quartz Hill, CA, 93536",
			"type": ["Wood Framing"],
			"local": "661"
			},
			{
			"contractor": "Hensel Phelps Construction Company",
			"address": "18230 Kittridge Street, Los Angeles, CA, 91335",
			"type": ["General Contractor"],
			"local": "661"
			},
			{
			"contractor": "Mrmajano Inc dba Long Beach Acoustics",
			"address": "12001 Ventura Place, Los Angeles, CA, 91604",
			"type": ["Acoustical"],
			"local": "661"
			},
			{
			"contractor": "FOREFRONT DEEP FOUNDATIONS INC",
			"address": "28185 The Old Road, Valencia,",
			"type": ["Bridges", "PileDriving"],
			"local": "661"
			},
			{
			"contractor": "MEGA PLASTERING SYSTEMS INC",
			"address": "3501 North San Fernando Boulevard, Burbank,",
			"type": ["Drywall Com"],
			"local": "661"
			},
			{
			"contractor": "INTERIOR PLUS INC",
			"address": "1919 Santa Monica Boulevard, Santa Monica,",
			"type": ["Commercial -Acoustical"],
			"local": "661"
			},
			{
			"contractor": "Builders Unlimited Constructors",
			"address": "5100 East Avenue South, Palmdale, CA, 93552",
			"type": ["Wood Framing"],
			"local": "661"
			},
			{
			"contractor": "Jordan Drywall Inc",
			"address": "2814 Empire Avenue, Burbank, CA, 91504",
			"type": ["Metal Stud/Framing", "Plaster", "Residential - Drywall", "Residential Lathe"],
			"local": "661"
			},
			{
			"contractor": "Jordan Drywall Inc",
			"address": "889 Americana Way, Glendale, CA, 91210",
			"type": ["Drywall Com"],
			"local": "661"
			},
			{
			"contractor": "Standard Construction",
			"address": "2814 Empire Avenue, Burbank, CA, 91504",
			"type": ["Wood Framing"],
			"local": "661"
			},
			{
			"contractor": "INTERIOR INSTALLATION SERVICES INC DBA INTERIOR RETAIL SERVICES INC",
			"address": "12920 Foothill Boulevard, San Fernando.",
			"type": ["Cabinet Installation"],
			"local": "661"
			},
			{
			"contractor": "C & W CUSTOM CABINETS INC",
			"address": "1100 East Avenue R-4, Palmdale,",
			"type": ["Millwork Installation"],
			"local": "661"
			},
			{
			"contractor": "Mottlab West Inc.",
			"address": "1500 North Verdugo Road, Glendale, CA, 91208",
			"type": ["Cab Install", "Commercial Concrete"],
			"local": "661"
			},
			{
			"contractor": "WEBCOR CRAFT L P",
			"address": "2238 South Carmelina Avenue, Los Angeles,",
			"type": ["Commercial - Concrete", "General Contractor"],
			"local": "661"
			},
			{
			"contractor": "MLC Constructor Inc",
			"address": "25111 The Old Road, Stevenson Ranch, CA, 91381",
			"type": ["Commercial Concrete"],
			"local": "661"
			},
			{
			"contractor": "West Valley Investment Group",
			"address": "32130 Lake Hughes Road, Castaic, CA, 91384",
			"type": ["Concrete - VerticalConcrete", "General Contractor", "Wood Framing"],
			"local": "661"
			},
			{
			"contractor": "WESTERN WOOD STRUCTURES INC dba OREGON WESTERN WOOD STRUCTURES INC",
			"address": "4212 Glencoe Avenue, Marina del Rey, CA, 90292",
			"type": ["Roof Strctr"],
			"local": "661"
			},
			{
			"contractor": "ELITE DOOR INSTALLATIONS",
			"address": "11726 San Vicente Boulevard, Los Angeles, CA, 90049",
			"type": ["Door Com", "Doors & Hardware"],
			"local": "661"
			},
			{
			"contractor": "DB Modern Interiors Inc dba Modern Interiors Inc",
			"address": "8899 Beverly Boulevard, West Hollywood,",
			"type": ["Commercial Acoustical"],
			"local": "661"
			},
			{
			"contractor": "STANDARD VISION LLC",
			"address": "5440 West 98th Street, Los Angeles, CA, 90045",
			"type": ["Other"],
			"local": "661"
			},
			{
			"contractor": "Triform Drywall Inc.",
			"address": "Schools First/15th St., Lancaster, CA, 93534",
			"type": ["Drywall Com"],
			"local": "661"
			},
			{
			"contractor": "Unique Scaffold",
			"address": "800 North Rice Avenue, Oxnard, CA, 93030",
			"type": ["General Contractor"],
			"local": "661"
			},
			{
			"contractor": "Blach Construction Company",
			"address": "2526 6th Street, Santa Monica,",
			"type": ["General Contractor"],
			"local": "661"
			},
			{
			"contractor": "Blake Solutions, Inc. dba Blake Mosaic Tile",
			"address": "3223 Thatcher Avenue, Los Angeles,",
			"type": ["Cab Install", "Finish Residential"],
			"local": "661"
			},
			{
			"contractor": "Katz Interiors Coast Door & Hardware",
			"address": "23031 Drayton Street, Santa Clarita, CA, 91350",
			"type": ["Fin Com"],
			"local": "661"
			}
		];
			
		const locals = [
	        {
				"local": "213",
				"address": "1200 Corporate Center Drive, 3rd Floor, Monterey Park, CA 91754"
			},
	        {
				"local": "323",
				"address": "1010 Sandhill Ave, Carson, CA 90746"
			},
	        {
				"local": "562",
				"address": "341 East Wardlow Road, Long Beach, CA 90807"
			},
	        {
				"local": "661",
				"address": "15881 Valley View Court, Sylmar, CA 91342"
			},
	        {
				"local": "714",
				"address": "7111 Firestone Boulevard, #122, Buena Park, CA 90621"
			},
			{
				"local": "909",
				"address": "3250 East Shelby Street, Ontario, CA 91764"
			},
	        {
				"local": "721",
				"address": "10015 Rose Hills Road, #100, Whittier, CA 90601"
			},
	        {
				"local": "743",
				"address": "911 20th Street, 911 20th Street, Bakersfield, CA, USA, Bakersfield, CA 93301"
			},
		];
		
		console.log(mapdata.length + " sites");
			
		var map;
		var markers = [];

		// initialize the map
		function initMap() {
		    map = new google.maps.Map(document.getElementById('map'), {
		        center: {lat: 34.05, lng: -118.255},
		        zoom: 10
		    });
			
		    parseAndPlotMarkers();
			addlocals();
		}
		
		// add locals
		function addlocals(){
		    locals.forEach(function(entry) {
				var geocoder = new google.maps.Geocoder();
		        geocoder.geocode({'address': entry.address}, function(results, status) {
		            if (status === 'OK') {
		                var location = results[0].geometry.location;
        
		                var marker = new google.maps.Marker({
							position: location,
							map: map,
							icon: {
							        path: google.maps.SymbolPath.BACKWARD_OPEN_ARROW,
							        fillColor: 'blue',
							        fillOpacity: 1,
							        strokeColor: 'blue',
							        strokeWeight: 1,
									scale: 5
							    },
								title: entry.local
		                });
						
						var infowindow = new google.maps.InfoWindow({
							content: "Local " + entry.local
						});
						
						marker.addListener('click', function() {
							infowindow.open(map, marker);
						});
						
		            } else {
		                console.error('Geocode was not successful for the following reason: ' + status);
		            }
		        });
		    });
		}
		
		// put markers in
		function parseAndPlotMarkers() {
			mapdata.forEach(function(entry) {
				// use geocoding api to get longitude and latitude
				var geocoder = new google.maps.Geocoder();
				geocoder.geocode({
					'address': entry.address
				}, function(results, status) {
					if (status === 'OK') {
						var location = results[0].geometry.location;
						
						var marker = new google.maps.Marker({
							position: location,
							map: map,
							title: entry.contractor,
							type: entry.type
						});

						// popup html
						var contentString = '<div><strong>' + entry.contractor + '</strong><br>' + entry.address + '<br><ul>';
						entry.type.forEach(function(workType) {
							contentString += '<li>' + workType + '</li>';
						});
						contentString += '</ul></div>';

						// attach click listener to the marker to show details when clicked
						var infowindow = new google.maps.InfoWindow({
							content: contentString
						});
						marker.addListener('click', function() {
							// close all currently open popups before opening a new one
							markers.forEach(function(existingMarker) {
								existingMarker.infowindow.close();
							});
							// open the popup for the clicked marker
							infowindow.open(map, marker);
						});

						// store marker reference for toggling later
						markers.push({
							marker: marker,
							infowindow: infowindow
						});
					} else {
						console.error('Geocode was not successful for the following reason: ' + status);
					}
				});
			});
		}
		
		// make checkboxes
		function generateCheckboxes() {
			var uniqueTypes = new Set();

			    // loop through each job site entry in the data
			    mapdata.forEach(function(entry) {
			        entry.type.forEach(function(workType) {
			            uniqueTypes.add(workType); // add each type of work to the set
			        });
			    });

			    // convert the set to an array
			    var allTypes = Array.from(uniqueTypes);

			    // generate checkboxes for each type of work
			    var checkboxesContainer = document.getElementById('tags');
			    allTypes.forEach(function(workType) {
			        var checkbox = document.createElement('input');
			        checkbox.type = 'checkbox';
			        checkbox.value = workType;
			        checkbox.checked = true; // Checked by default
			        checkbox.id = 'checkbox_' + workType.replace(/\s/g, '_');
			        var label = document.createElement('label');
			        label.appendChild(checkbox);
			        label.appendChild(document.createTextNode(workType));
			        checkboxesContainer.appendChild(label);
        
			        // add event listener to checkboxes to toggle markers
			        checkbox.addEventListener('change', function() {
			            toggleMarkers();
			        });
			    });
		}
		
		window.addEventListener('load', generateCheckboxes);
		
		function toggleMarkers() {
		    // get all checked checkboxes
		    var checkedCheckboxes = document.querySelectorAll('#tags input[type="checkbox"]:checked');
		    var checkedTypes = Array.from(checkedCheckboxes).map(function(checkbox) {
		        return checkbox.value;
		    });

		    // track which markers are currently visible
		    var visibleMarkers = new Set();

		    // loop through all markers
		    markers.forEach(function(markerData) {
		        var marker = markerData.marker;
		        var infowindow = markerData.infowindow;
		        var isVisible = false;

		        // check if the marker's types intersect with the checked types
		        if (marker.type.some(type => checkedTypes.includes(type))) {
		            isVisible = true;
		            visibleMarkers.add(marker); // add marker to visible markers set
		        }

		        // show or hide the marker based on visibility
		        marker.setVisible(isVisible);

		        // close the infowindow associated with the marker
		        infowindow.close();
		    });

		    // check if any previously visible markers are no longer visible
		    markers.forEach(function(markerData) {
		        var marker = markerData.marker;

		        // if a previously visible marker is no longer visible
		        if (!visibleMarkers.has(marker)) {
		            // check if any other checked checkboxes still match the marker's types
					// convert nodelist to array
					var checkedCheckboxesArray = Array.from(checkedCheckboxes);

					// check if any other checked checkboxes still match the marker's types
					var hasMatchingCheckbox = checkedCheckboxesArray.some(function(checkbox) {
					    return marker.type.includes(checkbox.value);
					});

		            // if no other checked checkboxes match the marker's types, hide the marker
		            if (!hasMatchingCheckbox) {
		                marker.setVisible(false);
		            }
		        }
		    });
		}
		
		function checkAll() {
		    document.querySelectorAll('#tags input[type="checkbox"]').forEach(function(checkbox) {
		        checkbox.checked = true;
		        toggleMarkers(checkbox.value);
		    });
		}

		function uncheckAll() {
		    document.querySelectorAll('#tags input[type="checkbox"]').forEach(function(checkbox) {
		        checkbox.checked = false;
		        toggleMarkers(checkbox.value);
		    });
		}
		
        var playButton = document.getElementById('play');
		
        var audioPlayer = document.getElementById('audioPlayer');
		
        playButton.addEventListener('click', function() {
            audioPlayer.play();
        });
        
    </script>

    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDsRfnkiV2jKntdBPNp8eNIelohLCLUXw4&callback=initMap">
		
    </script>
		
</body>
</html>