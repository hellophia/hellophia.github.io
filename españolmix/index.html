<html>
<head>
	<style>
		
		@import url('https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap');
   
        body {
            font-family: "Noto Serif";
            color: #595941;
            background-color: #e3e3e3;
			font-size:16px;
        }
		
		a:link {
		  color: #757541;
		}
		a:visited {
		  color: #757541;
		}
		a:hover {
		  color: #595941;
		  background-color:#d3c8c3;
		}
		a:active {
  		  color: #595941;
  		  background-color:#d3c8c3;
		}
		
		ol {
		    list-style-type: none;
		}

		ol li {
		    counter-increment: list-counter;
		    margin-bottom: 10px;
		}

		ol li::before {
		    content: counter(list-counter);
		}
		
		ol li::before{
			padding:8px;
			border-radius: 50%;
			display:inline-block;
			text-align: center;
			width:10px;
			height:10px;
			line-height:8px;
			margin-right:8px;
			color: #d3c8c3;
			background-color: var(--random-color);
		}
		
		ol{
			padding:0;
		}
		
		.container {
		    display: flex;
		    height: 100vh;
			margin:20px;
		}

		#songlistdiv {
		    flex:1;
		}

		#lyricsdiv {
		    flex:2;
		}
		
		.info{
			background-color: var(--random-color);
		}
		
		*{
			//outline: 1px solid red;
		}
		
	</style>
</head>
<body>
	
	<div class="container">
		<div id="songlistdiv">
			<div>
				<p><span style="color:#d3b690;">˖</span><span style="color:#d3c8c3;">⁺</span><span style="color:#d3b690;">‧</span><span style="color:#d3c8c3;">₊</span><span style="color:#db9c42;">˚</span><span style="color:#d3b690;">✦</span> españolmix <span style="color:#d3b690;">✦</span><span style="color:#db9c42;">˚</span><span style="color:#d3c8c3;">₊</span><span style="color:#d3b690;">‧</span><span style="color:#d3c8c3;">⁺</span><span style="color:#d3b690;">˖</span><p>
			</div>
		<ol id="lyricslist"></ol>
		</div>
	
		<div id="lyricsdiv">
		
		</div>
	</div>

	<script src="songlist.js"></script>
    <script>
		
		document.addEventListener("DOMContentLoaded", function() {
			const songlistdiv = document.getElementById("songlistdiv");
			const lyricsdiv = document.getElementById("lyricsdiv");
			
			const ol = document.getElementById("lyricslist");
			
		    songlist.forEach(song => {
				const li = document.createElement("li");
		        const songlink = document.createElement("a");
		        songlink.textContent = `${song.bandName} – ${song.songName}`;
				const fileName = song.fileName
				const url = 'letras/' + fileName;
				songlink.href = url;
		        songlink.onclick = function(event) {
		            event.preventDefault();
		            loadlyrics(this.href);
		        };
				li.appendChild(songlink);
				ol.appendChild(li);
		    });

		    function loadlyrics(url) {
		        fetch(url)
		            .then(response => response.text())
					.then(text => {
						const lines = text.split('\n');
			            const firstTwoLines = lines.slice(0, 2).map(line => `<div class="info">${line}</div>`).join('');
			            const remainingLines = lines.slice(2).join('\n');
			            const wrappedText = `<div>${firstTwoLines}</div>${wrapParagraphs(remainingLines)}`;
			            lyricsdiv.innerHTML = wrappedText;
			        })
		            .catch(error => console.error('Error loading lyrics:', error));
		    }
			
		    const colors = ['#595941','#757541','#ba8a33','#db9c42','#86aeaf','#b9af2a','#6e7384','#8e7fa8','#da758f'];

		    const listItems = document.querySelectorAll("#lyricslist li");

		    listItems.forEach((li) => {
		        const randomColor = colors[Math.floor(Math.random() * colors.length)];
		        li.style.setProperty('--random-color', randomColor);
		    });
			
			const lightcolors = ['#d3c8c3','#d3b690','#b9af2a','#b0b4b4','#d4be96','#dcb38b']
			
			const infoItems = document.querySelectorAll("info");
			
			infoItems.forEach((item) => {
				const randomColor = lightcolors[Math.floor(Math.random() * lightcolors.length)];
				item.style.setProperty('--random-color', randomColor);
			});
		});
			
			function wrapParagraphs(text) {
			    const paragraphs = text.split('\n\n');
			    const wrappedParagraphs = paragraphs.map(paragraph => {
			        const lines = paragraph.split('\n');
			        const wrappedLines = lines.map(line => line.trim()).join('<br>');
			        return `<p>${wrappedLines}</p>`;
			    });
			    return wrappedParagraphs.join('');
			}
    	
    </script>
	
</body>
</html>