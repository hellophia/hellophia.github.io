<html>
<head>
	<style>
		
		@import url('https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap');
   
        body {
            font-family: "Noto Serif";
            color: #595941;
            background-color: #e3e3e3;
			font-size:16px;
        }
		
		a:link {
		  color: #757541;
		}
		a:visited {
		  color: #757541;
		}
		a:hover {
		  color: #595941;
		  background-color:#d3c8c3;
		}
		a:active {
  		  color: #595941;
  		  background-color:#d3c8c3;
		}
		
		ol {
		    list-style-type: none;
		}

		ol li {
		    counter-increment: list-counter;
		    margin-bottom: 10px;
		}

		ol li::before {
		    content: counter(list-counter);
		}
		
		ol li::before{
			padding:8px;
			border-radius: 50%;
			display:inline-block;
			text-align: center;
			width:10px;
			height:10px;
			line-height:8px;
			margin-right:8px;
			color: #d3c8c3;
			background-color: #db9c42;
		}
		
		.container {
		    display: flex;
		    height: 100vh;
		}

		#songlistdiv {
		    flex:1;
		}

		#lyricsdiv {
		    flex:2;
		}
		
		*{
			//outline: 1px solid red;
		}
		
	</style>
</head>
<body>
	
	<div class="container">
		<div id="songlistdiv">
		<ol id="lyricslist"></ol>
		</div>
	
		<div id="lyricsdiv">
		
		</div>
	</div>

	<script src="songlist.js"></script>
    <script>
		
		document.addEventListener("DOMContentLoaded", function() {
			const songlistdiv = document.getElementById("songlistdiv");
			const lyricsdiv = document.getElementById("lyricsdiv");
			
			const ol = document.getElementById("lyricslist");
			
		    songlist.forEach(song => {
				const li = document.createElement("li");
		        const songlink = document.createElement("a");
		        songlink.textContent = `${song.bandName} â€“ ${song.songName}`;
				const fileName = song.fileName
				const url = 'letras/' + fileName;
				songlink.href = url;
		        songlink.onclick = function(event) {
		            event.preventDefault();
		            loadlyrics(this.href);
		        };
				li.appendChild(songlink);
				ol.appendChild(li);
		    });

		    function loadlyrics(url) {
		        fetch(url)
		            .then(response => response.text())
		            .then(text => {
						const wrappedText = wrapParagraphs(text);
		                lyricsdiv.innerHTML = wrappedText;
		            })
		            .catch(error => console.error('Error loading lyrics:', error));
		    }
			
			});
			
			function wrapParagraphs(text) {
			    const paragraphs = text.split('\n\n');
			    const wrappedParagraphs = paragraphs.map(paragraph => {
			        const lines = paragraph.split('\n');
			        const wrappedLines = lines.map(line => `<p>${line}</p>`);
			        const wrappedParagraph = wrappedLines.join('');
			        return `<div>${wrappedParagraph}</div>`;
			    });
			    return wrappedParagraphs.join('');
			}
    	
    </script>
	
</body>
</html>